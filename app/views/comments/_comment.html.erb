<div class="border-l-2 p-4 mb-4">
	<%= render 'posts/posted_by', post: comment %>
	<div class="text-black leading-normal text-sm"><%= simple_format comment.body %></div>

	<% if user_signed_in? %>
		<div data-controller="reply">
			<div class="text-gray-800 leading-normal text-sm font-semibold">


				<% if current_user.liked? comment %>
			      <%=  link_to vote_post_comment_path(comment, 'unvote'), class: "preached-btn", method: :put, remote: :true do %>
			              Upvote <%= comment.get_likes.size %>
			      <% end %>
			    <% else %>
			      <%= link_to vote_post_comment_path(comment, 'vote'), class: "preach-btn", method: :put, remote: :true do %>
			              Upvote (<%= comment.get_likes.size %>)
			      <% end %>
			    <% end %>
			    
				<%= link_to "Reply", "#", data: { action: "click->reply#toggle" } %>
				<%= link_to "Delete", [comment.commentable, comment], method: :delete, data: {confirm: "Are you sure?"} if comment.user == current_user %>
				</div>
			<%= render partial: "comments/form", locals: { commentable: comment.commentable, parent_id: comment.id, class: "hidden button", target: "reply.form" } %>
		</div>
	<% end %>
	<%= render comment.comments %>
</div>